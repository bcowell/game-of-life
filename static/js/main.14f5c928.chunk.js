(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{179:function(e,t,n){},180:function(e,t,n){"use strict";n.r(t);var a,i,o,r=n(1),c=n.n(r),s=n(22),l=n.n(s),u=(n(76),n(63)),h=n(10),d=n(12),f=n(29),m=n(28),g=n(30),v=300,p=300,w=5,b=5,y="red",k="#282c34",x=function(e){return Math.floor(Math.random()*Math.floor(e))},E=function(e){return Math.floor(Math.ceil(e/w)*w,v)},C=n(64),j=n.n(C),O=function(e){function t(e,n,a,i){var o;return Object(h.a)(this,t),(o=Object(f.a)(this,Object(m.a)(t).call(this,e,n,a,i))).width=w,o.height=b,o.colour=y,o}return Object(g.a)(t,e),Object(d.a)(t,[{key:"draw",value:function(){this.context.fillStyle=this.isColliding?"#0099b0":y,this.context.fillRect(this.x,this.y,this.width,this.height)}}]),t}(function e(t,n,a,i){Object(h.a)(this,e),this.context=t,this.x=n,this.y=a,this.colour=i,this.isColliding=!1}),R=function(){function e(t,n){return Object(h.a)(this,e),this.pattern=t,this.context=n,this.random()}return Object(d.a)(e,[{key:"random",value:function(){for(var e=[],t=x(30)+1,n=0;n<t;n++){var a=E(x(v)),i=E(x(p));e.push(new O(this.context,a,i,y))}return e}}]),e}(),S=function(){function e(t,n,a,i){var o=this;Object(h.a)(this,e),this.createInitialBoardState=function(e){o.board=new R(e,o.context)},this.draw=function(){o.clear(),o.board.forEach(function(e){return e.draw()})},this.update=function(){o.board=o.advanceGeneration(),0===o.board.length&&o.createInitialBoardState()},this.advanceGeneration=function(){var e=o.board.map(function(e){return e.isColliding=!1,e});return o.board.forEach(function(t,n){var a=o.detectCollisions(t.x,t.y);(a<2||a>3)&&e.splice(n,1)}),o.createDeadBoard().forEach(function(t){3===o.detectCollisions(t.x,t.y)&&e.push(new O(o.context,t.x,t.y,y))}),e},this.createDeadBoard=function(){for(var e=[],t=function(t){for(var n=function(n){o.board.find(function(e){return e.x===t&&e.y===n})||e.push(new O(o.context,t,n,y))},a=0;a<p;a+=b)n(a)},n=0;n<v;n+=w)t(n);return e},this.detectCollisions=function(e,t){var n=E(w+w/2),a=E(b+b/2),i=Math.max(w/2,e-n),r=Math.min(v-w/2,e+n),c=Math.max(b/2,t-a),s=Math.min(p-b/2,t+a),l=j.a.filter(o.board,function(n){return(n.x!==e||n.y!==t)&&i<=n.x&&n.x<=r&&c<=n.y&&n.y<=s});return l&&l.length>0&&l.forEach(function(e){return e.isColliding=!0}),l.length},this.context=t,this.canvas=n,this.board=a,this.createInitialBoardState(i)}return Object(d.a)(e,[{key:"clear",value:function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)}}]),e}(),M=n(31),L=n.n(M),A=n(66),T=n.n(A),B=n(67),W=n.n(B),G=n(39),H=n.n(G),I=n(68),N=n.n(I),D=n(69),U=n.n(D),q=n(70),F=n.n(q),J=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(f.a)(this,Object(m.a)(t).call(this,e))).createHTML5Canvas=function(){a=n.canvasRef.current,(i=a.getContext("2d")).fillStyle=k,i.fillRect(0,0,a.width,a.height)},n.gameTick=function(){o.update(),o.draw(),n.state.gameLoopRunning&&setTimeout(function(){return window.requestAnimationFrame(n.gameTick)},n.state.tickSpeed)},n.handleChange=function(e){return function(t){n.setState(Object(u.a)({},e,t.target.checked))}},n.tickSpeedHandleChange=function(e){n.setState({tickSpeed:e.target.value})},n.canvasRef=Object(r.createRef)(),n.state={tickSpeed:300,gameLoopRunning:!0,pattern:"random"},n}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.createHTML5Canvas(),o=new S(i,a,this.state.pattern),window.requestAnimationFrame(this.gameTick)}},{key:"render",value:function(){return c.a.createElement(L.a,{container:!0,spacing:18},c.a.createElement(L.a,{item:!0,xs:!0},c.a.createElement(T.a,null,c.a.createElement(W.a,null,c.a.createElement(H.a,{control:c.a.createElement(N.a,{checked:this.state.gameLoopRunning,onChange:this.handleChange("gameLoopRunning"),value:"gameLoopRunning",color:"primary"}),label:"Run"}),c.a.createElement("p",null,"Game speed in ms ",c.a.createElement("input",{value:this.state.tickSpeed,onChange:this.tickSpeedHandleChange,type:"number",style:{width:"50px"}})),c.a.createElement(H.a,{control:c.a.createElement(U.a,{checked:"random"===this.state.pattern,onChange:this.handleChange("pattern"),value:"random",color:"primary"}),label:"Random"}),c.a.createElement(F.a,{variant:"contained",color:"primary"},"Start")))),c.a.createElement(L.a,{item:!0,xs:!0},c.a.createElement("canvas",{ref:this.canvasRef,className:"canvas",width:v,height:p})))}}]),t}(r.Component),P=(n(179),function(e){return c.a.createElement("div",{className:"App"},c.a.createElement("header",null,c.a.createElement("h1",null,"Game of Life")),c.a.createElement(J,null))}),$=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function z(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}l.a.render(c.a.createElement(P,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/game-of-life",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/game-of-life","/service-worker.js");$?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):z(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):z(t,e)})}}()},71:function(e,t,n){e.exports=n(180)},76:function(e,t,n){}},[[71,1,2]]]);
//# sourceMappingURL=main.14f5c928.chunk.js.map